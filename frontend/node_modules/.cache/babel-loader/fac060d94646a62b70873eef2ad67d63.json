{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar errCode = require('err-code');\nvar itPeekable = require('it-peekable');\nvar browserStreamToIt = require('browser-readablestream-to-it');\nvar all = require('it-all');\nvar utils = require('./utils.js');\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\nvar itPeekable__default = /*#__PURE__*/_interopDefaultLegacy(itPeekable);\nvar browserStreamToIt__default = /*#__PURE__*/_interopDefaultLegacy(browserStreamToIt);\nvar all__default = /*#__PURE__*/_interopDefaultLegacy(all);\nasync function normaliseContent(input) {\n  if (utils.isBytes(input)) {\n    return new Blob([input]);\n  }\n  if (typeof input === 'string' || input instanceof String) {\n    return new Blob([input.toString()]);\n  }\n  if (utils.isBlob(input)) {\n    return input;\n  }\n  if (utils.isReadableStream(input)) {\n    input = browserStreamToIt__default[\"default\"](input);\n  }\n  if (Symbol.iterator in input || Symbol.asyncIterator in input) {\n    const peekable = itPeekable__default[\"default\"](input);\n    const {\n      value,\n      done\n    } = await peekable.peek();\n    if (done) {\n      return itToBlob(peekable);\n    }\n    peekable.push(value);\n    if (Number.isInteger(value)) {\n      return new Blob([Uint8Array.from(await all__default[\"default\"](peekable))]);\n    }\n    if (utils.isBytes(value) || typeof value === 'string' || value instanceof String) {\n      return itToBlob(peekable);\n    }\n  }\n  throw errCode__default[\"default\"](new Error(`Unexpected input: ${input}`), 'ERR_UNEXPECTED_INPUT');\n}\nasync function itToBlob(stream) {\n  const parts = [];\n  for await (const chunk of stream) {\n    parts.push(chunk);\n  }\n  return new Blob(parts);\n}\nexports.normaliseContent = normaliseContent;","map":{"version":3,"names":["Object","defineProperty","exports","value","errCode","require","itPeekable","browserStreamToIt","all","utils","_interopDefaultLegacy","e","errCode__default","itPeekable__default","browserStreamToIt__default","all__default","normaliseContent","input","isBytes","Blob","String","toString","isBlob","isReadableStream","Symbol","iterator","asyncIterator","peekable","done","peek","itToBlob","push","Number","isInteger","Uint8Array","from","Error","stream","parts","chunk"],"sources":["C:/Users/Administrator/Downloads/blockchain-bookstore/frontend/node_modules/ipfs-core-utils/cjs/src/files/normalise-content.browser.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar errCode = require('err-code');\nvar itPeekable = require('it-peekable');\nvar browserStreamToIt = require('browser-readablestream-to-it');\nvar all = require('it-all');\nvar utils = require('./utils.js');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\nvar itPeekable__default = /*#__PURE__*/_interopDefaultLegacy(itPeekable);\nvar browserStreamToIt__default = /*#__PURE__*/_interopDefaultLegacy(browserStreamToIt);\nvar all__default = /*#__PURE__*/_interopDefaultLegacy(all);\n\nasync function normaliseContent(input) {\n  if (utils.isBytes(input)) {\n    return new Blob([input]);\n  }\n  if (typeof input === 'string' || input instanceof String) {\n    return new Blob([input.toString()]);\n  }\n  if (utils.isBlob(input)) {\n    return input;\n  }\n  if (utils.isReadableStream(input)) {\n    input = browserStreamToIt__default[\"default\"](input);\n  }\n  if (Symbol.iterator in input || Symbol.asyncIterator in input) {\n    const peekable = itPeekable__default[\"default\"](input);\n    const {value, done} = await peekable.peek();\n    if (done) {\n      return itToBlob(peekable);\n    }\n    peekable.push(value);\n    if (Number.isInteger(value)) {\n      return new Blob([Uint8Array.from(await all__default[\"default\"](peekable))]);\n    }\n    if (utils.isBytes(value) || typeof value === 'string' || value instanceof String) {\n      return itToBlob(peekable);\n    }\n  }\n  throw errCode__default[\"default\"](new Error(`Unexpected input: ${ input }`), 'ERR_UNEXPECTED_INPUT');\n}\nasync function itToBlob(stream) {\n  const parts = [];\n  for await (const chunk of stream) {\n    parts.push(chunk);\n  }\n  return new Blob(parts);\n}\n\nexports.normaliseContent = normaliseContent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}