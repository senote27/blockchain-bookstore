{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar errCode = require('err-code');\nvar fromString = require('uint8arrays/from-string');\nvar browserStreamToIt = require('browser-readablestream-to-it');\nvar blobToIt = require('blob-to-it');\nvar itPeekable = require('it-peekable');\nvar all = require('it-all');\nvar map = require('it-map');\nvar utils = require('./utils.js');\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\nvar browserStreamToIt__default = /*#__PURE__*/_interopDefaultLegacy(browserStreamToIt);\nvar blobToIt__default = /*#__PURE__*/_interopDefaultLegacy(blobToIt);\nvar itPeekable__default = /*#__PURE__*/_interopDefaultLegacy(itPeekable);\nvar all__default = /*#__PURE__*/_interopDefaultLegacy(all);\nvar map__default = /*#__PURE__*/_interopDefaultLegacy(map);\nasync function* toAsyncIterable(thing) {\n  yield thing;\n}\nasync function normaliseContent(input) {\n  if (utils.isBytes(input)) {\n    return toAsyncIterable(toBytes(input));\n  }\n  if (typeof input === 'string' || input instanceof String) {\n    return toAsyncIterable(toBytes(input.toString()));\n  }\n  if (utils.isBlob(input)) {\n    return blobToIt__default[\"default\"](input);\n  }\n  if (utils.isReadableStream(input)) {\n    input = browserStreamToIt__default[\"default\"](input);\n  }\n  if (Symbol.iterator in input || Symbol.asyncIterator in input) {\n    const peekable = itPeekable__default[\"default\"](input);\n    const {\n      value,\n      done\n    } = await peekable.peek();\n    if (done) {\n      return toAsyncIterable(new Uint8Array(0));\n    }\n    peekable.push(value);\n    if (Number.isInteger(value)) {\n      return toAsyncIterable(Uint8Array.from(await all__default[\"default\"](peekable)));\n    }\n    if (utils.isBytes(value) || typeof value === 'string' || value instanceof String) {\n      return map__default[\"default\"](peekable, toBytes);\n    }\n  }\n  throw errCode__default[\"default\"](new Error(`Unexpected input: ${input}`), 'ERR_UNEXPECTED_INPUT');\n}\nfunction toBytes(chunk) {\n  if (chunk instanceof Uint8Array) {\n    return chunk;\n  }\n  if (ArrayBuffer.isView(chunk)) {\n    return new Uint8Array(chunk.buffer, chunk.byteOffset, chunk.byteLength);\n  }\n  if (chunk instanceof ArrayBuffer) {\n    return new Uint8Array(chunk);\n  }\n  if (Array.isArray(chunk)) {\n    return Uint8Array.from(chunk);\n  }\n  return fromString.fromString(chunk.toString());\n}\nexports.normaliseContent = normaliseContent;","map":{"version":3,"names":["Object","defineProperty","exports","value","errCode","require","fromString","browserStreamToIt","blobToIt","itPeekable","all","map","utils","_interopDefaultLegacy","e","errCode__default","browserStreamToIt__default","blobToIt__default","itPeekable__default","all__default","map__default","toAsyncIterable","thing","normaliseContent","input","isBytes","toBytes","String","toString","isBlob","isReadableStream","Symbol","iterator","asyncIterator","peekable","done","peek","Uint8Array","push","Number","isInteger","from","Error","chunk","ArrayBuffer","isView","buffer","byteOffset","byteLength","Array","isArray"],"sources":["C:/Users/Administrator/Downloads/blockchain-bookstore/frontend/node_modules/ipfs-core-utils/cjs/src/files/normalise-content.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar errCode = require('err-code');\nvar fromString = require('uint8arrays/from-string');\nvar browserStreamToIt = require('browser-readablestream-to-it');\nvar blobToIt = require('blob-to-it');\nvar itPeekable = require('it-peekable');\nvar all = require('it-all');\nvar map = require('it-map');\nvar utils = require('./utils.js');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\nvar browserStreamToIt__default = /*#__PURE__*/_interopDefaultLegacy(browserStreamToIt);\nvar blobToIt__default = /*#__PURE__*/_interopDefaultLegacy(blobToIt);\nvar itPeekable__default = /*#__PURE__*/_interopDefaultLegacy(itPeekable);\nvar all__default = /*#__PURE__*/_interopDefaultLegacy(all);\nvar map__default = /*#__PURE__*/_interopDefaultLegacy(map);\n\nasync function* toAsyncIterable(thing) {\n  yield thing;\n}\nasync function normaliseContent(input) {\n  if (utils.isBytes(input)) {\n    return toAsyncIterable(toBytes(input));\n  }\n  if (typeof input === 'string' || input instanceof String) {\n    return toAsyncIterable(toBytes(input.toString()));\n  }\n  if (utils.isBlob(input)) {\n    return blobToIt__default[\"default\"](input);\n  }\n  if (utils.isReadableStream(input)) {\n    input = browserStreamToIt__default[\"default\"](input);\n  }\n  if (Symbol.iterator in input || Symbol.asyncIterator in input) {\n    const peekable = itPeekable__default[\"default\"](input);\n    const {value, done} = await peekable.peek();\n    if (done) {\n      return toAsyncIterable(new Uint8Array(0));\n    }\n    peekable.push(value);\n    if (Number.isInteger(value)) {\n      return toAsyncIterable(Uint8Array.from(await all__default[\"default\"](peekable)));\n    }\n    if (utils.isBytes(value) || typeof value === 'string' || value instanceof String) {\n      return map__default[\"default\"](peekable, toBytes);\n    }\n  }\n  throw errCode__default[\"default\"](new Error(`Unexpected input: ${ input }`), 'ERR_UNEXPECTED_INPUT');\n}\nfunction toBytes(chunk) {\n  if (chunk instanceof Uint8Array) {\n    return chunk;\n  }\n  if (ArrayBuffer.isView(chunk)) {\n    return new Uint8Array(chunk.buffer, chunk.byteOffset, chunk.byteLength);\n  }\n  if (chunk instanceof ArrayBuffer) {\n    return new Uint8Array(chunk);\n  }\n  if (Array.isArray(chunk)) {\n    return Uint8Array.from(chunk);\n  }\n  return fromString.fromString(chunk.toString());\n}\n\nexports.normaliseContent = normaliseContent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}